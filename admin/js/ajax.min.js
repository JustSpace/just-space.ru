"use strict";var XHR="onload"in new XMLHttpRequest?XMLHttpRequest:XDomainRequest;document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector("#add_user_sub")||document.querySelector("head"),o=document.querySelector("#add_email_sub")||document.querySelector("head"),t=document.querySelector("#add_site_email_sub")||document.querySelector("head"),a=document.querySelector("#create_backup_sub")||document.querySelector("head"),n=document.querySelector("#load_backup_sub")||document.querySelector("head"),d=document.querySelector(".window__button-close")||document.querySelector("head"),r=document.querySelector(".window")||document.querySelector("head"),l=document.querySelector(".ajax-alert-popup")||document.querySelector("head");e.addEventListener("click",function(e){var o=document.querySelector("#login").value,t=document.querySelector("#password").value,a=document.querySelector("#name").value,n=document.querySelector("#email").value,d=document.querySelector("#rights").value;if(""!=o&&""!=t){e.preventDefault();var u=new XHR,c="login="+encodeURIComponent(o)+"&password="+encodeURIComponent(t)+"&name="+encodeURIComponent(a)+"&email="+encodeURIComponent(n)+"&rights="+encodeURIComponent(d);u.open("POST","/admin/ajax/add_user.php",!0),u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u.send(c),u.onreadystatechange=function(){4==u.readyState&&(200==u.status?(addClass(l,"ajax-alert-popup--open"),addClass(r,"window--done"),document.querySelector(".window__text--done").style.display="block"):(addClass(l,"ajax-alert-popup--open"),addClass(r,"window--error"),document.querySelector(".window__text--error").style.display="block"))}}}),o.addEventListener("click",function(e){var o=document.querySelector("#email").value;if(""!=o){e.preventDefault();var t=new XHR,a="email="+encodeURIComponent(o);t.open("POST","/admin/ajax/add_email.php",!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(a),t.onreadystatechange=function(){4==t.readyState&&(200==t.status?(addClass(l,"ajax-alert-popup--open"),addClass(r,"window--done"),document.querySelector(".window__text--done").style.display="block"):(addClass(l,"ajax-alert-popup--open"),addClass(r,"window--error"),document.querySelector(".window__text--error").style.display="block"))}}}),t.addEventListener("click",function(e){var o=document.querySelector("#site_email").value;if(""!=o){e.preventDefault();var t=new XHR,a="site_email="+encodeURIComponent(o);t.open("POST","/admin/ajax/add_site_email.php",!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(a),t.onreadystatechange=function(){4==t.readyState&&(200==t.status?(addClass(l,"ajax-alert-popup--open"),addClass(r,"window--done"),document.querySelector(".window__text--done").style.display="block"):(addClass(l,"ajax-alert-popup--open"),addClass(r,"window--error"),document.querySelector(".window__text--error").style.display="block"))}}}),a.addEventListener("click",function(e){var o=document.querySelector("#create_backup_filename").value;e.preventDefault();var t=new XHR,a="create_backup_filename="+encodeURIComponent(o);t.open("POST","/admin/ajax/create_backup.php",!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(a),t.onreadystatechange=function(){4==t.readyState&&(200==t.status?(addClass(l,"ajax-alert-popup--open"),addClass(r,"window--done"),document.querySelector(".window__text--done").style.display="block"):(addClass(l,"ajax-alert-popup--open"),addClass(r,"window--error"),document.querySelector(".window__text--error").style.display="block"))}}),n.addEventListener("click",function(e){var o=document.querySelector("#load_backup_filename").value,t=document.querySelector("#load_backup_dbname").value;if(""!=o){e.preventDefault();var a=new XHR,n="load_backup_filename="+encodeURIComponent(o)+"&load_backup_dbname="+encodeURIComponent(t);a.open("POST","/admin/ajax/load_backup.php",!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(n),a.onreadystatechange=function(){4==a.readyState&&(200==a.status?(addClass(l,"ajax-alert-popup--open"),addClass(r,"window--done"),document.querySelector(".window__text--done").style.display="block"):(addClass(l,"ajax-alert-popup--open"),addClass(r,"window--error"),document.querySelector(".window__text--error").style.display="block"))}}}),d.addEventListener("click",function(){removeClass(l,"ajax-alert-popup--open"),removeClass(r,"window--done window--error"),document.querySelector(".window__text--done").style.display="none",document.querySelector(".window__text--error").style.display="none"})});